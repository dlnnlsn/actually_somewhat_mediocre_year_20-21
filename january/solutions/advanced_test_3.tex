\documentclass{article}

\usepackage{mathtools,amsfonts}
\usepackage{enumerate}
\usepackage{fullpage}
\usepackage{fancyvrb}
\usepackage{hyperref}


\begin{document}
\thispagestyle{empty}

\begin{center}
  \textbf{\Large Advanced Test 3 Solutions}
  % LEVEL is Senior, Intermediate or Beginner
  % NUMBER is the test number: 1, 2, etc.
  \\ \vspace{1em}
  \textbf{\large January Camp 2021}
  \\ \vspace{1em}
  \textbf{\large Time: $2\frac{1}{2}$ hours}
\end{center}

\vspace{12pt}

\begin{enumerate}[1.]

\item % Tim
{\itshape There is a book with $n$ chapters where chapter $i$ has $i$ pages.
The probability of opening the book in the same chapter twice in a row is $p$.
Is it possible for $p$ to be $1/k$ for some integer $k$?}

Notice that the book has $\frac{n(n+1)}{2}$ pages ($1+2+3+...+n$). Now, the number of ways that we can land in the same chapter twice is $1^2+2^2+3^2+...+n^2$, since each chapter has $i$ pages that we could have landed in each time. This can be simplified as: $1^2+2^2+3^2+...+n^2 = \frac{n(n+1)(2n+1)}{6}$. The total number of ways to open the book twice is just $(\frac{n(n+1)}{2})^2$, since we can land on any page, then any page again. So $p = \frac{n(n+1)(2n+1)}{6}/(\frac{n(n+1)}{2})^2 = \frac{(2n+1)}{3}/(\frac{n(n+1)}{2})=\frac{2(2n+1)}{3n(n+1)}$. Since $n(n+1)$ is always divisible by 2, the 2 on the top will cancel. Now, we seek $n$ such that $2n+1$ will cancel i.e. since $2n+1$ is odd, we seek $n$ with $2n+1\:|\: 3n(n+1)$.
\begin{align*}
2n+1\:&|\: 3n^2+3n\\
2n+1\:&|\: 2(3n^2+3n)-3n(2n+1) = 3n\\
2n+1\:&|\: 2(3n)-3(2n+1)\\
2n+1\:&|\: -3\\
\end{align*}
Finally, we get $2n+1=1,3,-1,-3$ which gives $n=0,1,-1,-2$, none of which are valid numbers of chapters. So there is no $n>1$ giving $p=\frac{1}{k}$.


\item % Ireland Book 2018 P1 (the Green one)
{\itshape Points $D$, $E$, and $F$ lie respectively on sides $BC$, $CA$, and $AB$ of triangle $ABC$ such that $BDEF$ is a parallelogram. Prove that the area of $BDEF$ is maximal when $D$, $E$, and $F$ are the midpoints of the sides.}

Let $BF=\alpha AB$ and $BD=\beta BC$. Then the area of the parallelogram is $BD.BF\sin{\hat{B}} = \alpha \beta AB.BC\sin{\hat{B}}$. Since $AB.BC\sin{\hat{B}}$ does not depend on $D,E,F$, we seek to maximise $\alpha \beta$. Note that $DE\parallel BA$ so $\triangle CAB \sim \triangle CED$. Then $\frac{DE}{BA}=\frac{CD}{CB}$, with $DE=BF=\alpha AB$ (parallelogram) and $CD=BC-DB=(1-\beta)BC$, so $\frac{\alpha AB}{AB}=\frac{(1-\beta)BC}{BC}$, giving $\alpha = 1-\beta$. Finally, we are left with maximising $\beta (1-\beta) = \beta - \beta^2 = \frac{1}{4}-(\beta-\frac{1}{2})^2$, which is clearly maximised by $\beta=\frac{1}{2}$. This also gives $\alpha=\frac{1}{2}$, which means $D$ and $F$ are midpoints, so $E$ is a midpoint. So $D,E,F$ being midpoints gives us $\alpha=\beta=\frac{1}{2}$ and a maximal area.


\item % Canada MO 2013, Q1
{\itshape Find all polynomials $P$ with real coefficients such that $(x + 1)P(x - 1) - (x - 1)P(x)$ is constant.}
Letting $x = 1$, we see that the constant is $2P(0)$. Thus the equation is simply
$$(x + 1)P(x - 1) - (x - 1)P(x) = 2P(0) $$
Letting $x = 0$, we get $P(-1) = P(0)$. Consider now the polynomial $Q(x) = P(x) - P(0)$. Substituting $P(x) = Q(x) + P(0)$ into the equation, we get
\begin{align*}
  (x + 1)(Q(x - 1) + P(0)) - (x - 1)(Q(x) + P(0)) &= 2P(0) \\
  \implies (x + 1)Q(x - 1) - (x - 1)Q(x) = 0
\end{align*}
Now, we know that $Q(0) = Q(-1) = 0$, so $Q$ can be written as $Q(x) = kx(x + 1)R(x)$ where $k$ is some constant, and $R(x)$ is some polynomial. Thus gives 
$$k(x + 1)(x - 1)(x)R(x - 1) - k(x - 1)(x)(x + 1)R(x) = 0 $$
which can be simplified to
$$kx(x^2 - 1)(R(x - 1) - R(x)) = 0$$
when $x(x^2 - 1) \ne 0$, we must have $R(x) = R(x - 1)$. This is true for infinitely many $x$ and since $R$ is a polynomial, we then have that $R$ must be a constant polynomial. Thus, we know that $Q$ is exactly $Q(x) = kx(x + 1)$. From here we can see that $P$ must be
$$P(x) = kx(x + 1) + c$$
so only polynomials of the form $P(x) = kx(x + 1) + c$ can satisfy the constraint.

We can then check that this does indeed satisfy the original condition:
\begin{align*}
  (x + 1)P(x - 1) - (x - 1)P(x) &= (x + 1) \cdot (k(x - 1)x + c) - (x - 1) \cdot (kx(x + 1) + c) \\
  &= kx(x^2 - 1) - kx(x^2 - 1) + c \cdot (x + 1) - c \cdot (x - 1) \\
  &= 2c
\end{align*}

\item % French NT Training Assignment 2017, Exercise 8
{\itshape Does there exist an infinite set $A$ of natural numbers such that any finite sum of distinct elements of $A$ is not a perfect power, where a perfect power is a number of the form $a^b$ with $b > 1$ and $a \in \mathbb{N}$.}

\begin{description}
  \item[Solution]
    The answer is \textbf{yes}. We construct the set $A$ inductively. Let $a_0 = 2$ (or any other number that is not a perfect power).

    Suppose that we have already chosen values $A_n = \{a_0, a_1, \dots, a_n\}$ such that any finite sum involving only elements of $A_n$ is not a perfect power. We will choose $a_{n + 1}$ such that the same is true of $A_{n + 1} = A_n \cup \{ a_{n + 1} \}$.

    Let $S$ be the set of values of all possible sums involving distinct elements of $A_n$. We are done if we can find $a_{n + 1}$ that is not a perfect power, and such that $a_{n + 1} + s$ is not a perfect power for every element $s \in S$.

    Let $B$ be the largest element of $S$. (i.e. $B = a_0 + a_1 + \dotsb + a_n$) If we could find an interval $[x, x + B]$ (where $x \notin A_n$) that does not contain any perfect powers, then we could set $a_{n + 1} = x$. Then since $a_{n+1} + s$ falls in this interval for every $s \in S$, we know that $a_{n + 1} + s$ is not a perfect power for every $s \in S$.

    We claim that there are in fact arbitrarily long intervals of natural numbers which do not contain any perfect powers. Let $p(N)$ be the number of perfect powers that are at most $N$. We claim that $p(N)/N$ becomes arbitrarily small as $N$ gets larger. This completes the proof, because if every interval of length $B + 1$ always contained a perfect power, then we would have
    \[
      p(N) \geq \left\lfloor \frac{N}{B + 1} \right\rfloor > \frac{N}{B + 1} - 1,
    \]
    and so $p(N)/N$ would tend to something at least as large as $\frac{1}{B + 1}$ as $N$ tends to infinity.

    We now derive an estimate for $p(N)/N$. Let $k$ be the largest natural number such that there exists a natural number $a$ such that $a^k \leq N$. Since $2^k \leq a^k \leq N$, we know that $k \leq \log_2 N$.

    Since there are at most $\sqrt{N}$ perfect squares that are at most $N$, at most $\sqrt[3]{N}$ perfect cubes that are at most $N$, and so on, we see that
    \[
      p(N) \leq \sqrt{N} + \sqrt[3]{N} + \sqrt[4]{N} + \dotsb + \sqrt[k]{N}
    \]
    and since
    \[
      \sqrt[i]{N} \leq \sqrt{N}
    \]
    for each $i$, we obtain that
    \[
      p(N) \leq k \sqrt{N} \leq \sqrt{N} \log_2 N \implies \frac{p(N)}{N} \leq \frac{\sqrt{N} \log_2 N}{N}
    \]
    which does indeed tend to $0$ as $N \to \infty$.
  \item[Alternative Solution]
    Consider the set
    \[
      S = \left\{ 2^{k + 1} \cdot 3^k \middle| k \in \mathbb{N}_0 \right\}
    \]
    containing the numbers $2, 12, 72, 78, \dots$. We will show that no finite sum of elements of $S$ is a perfect power.

    Consider any finite sum of elements of $S$
    \[
      n = 2^{a_1 + 1} \cdot 3^{a_1} + 2^{a_2 + 1} \cdot 3^{a_2} + \dotsb + 2^{a_k + 1} \cdot 3^{a_k}
    \]
    where $a_1 < a_2 < \dots < a_k$. We see that the largest power of $2$ that divides $n$ is $2^{a_1 + 1}$, and the largest power of $3$ that divides $n$ is $3^{a_1}$. If $n$ is the $m^\text{th}$ power of an integer, then we need that $m \mid a_1 + 1$ and also $m \mid a_1$. But then $m \mid 1$, and so $n$ can only be the first power of an integer, but not any higher power.
\end{description}

\item % Ukraine 2016-2017 Grade 11 Round 3 Q5
{\itshape Let $ABC$ be an acute non-isosceles triangle with altitudes $BB_1$ and $CC_1$ intersecting at $H$.
The angle bisectors of $\angle B_1AC_1$ and $B_1HC_1$ intersect the line $B_1C_1$ at points $L_1$ and $L_2$, respectively.
Let $P$ and $Q$ be the second points of intersection of the circumcircles of triangles $AHL_1$ and $AHL_2$ with the line $B_1C_1$ respectively.
Prove that the points $B$, $C$, $P$, and $Q$ lie on a circle.}

Note $A$, $B_1$, $C_1$ and $H$ are concyclic. Let $W_1$ and $W_2$ be the midpoints of arcs $C_1HB_1$ and $C_1AB_1$ of this circle respectively. Note line $AW_1$ passes through $L_1$ and line $AW_2$ passes through $L_2$. Let us prove that point $P$ lies on $HW_1$ and point $Q$ lies on $AW_2$. Indeed, suppose that $HW_1$ intersects $B_1C_1$ at some point $P'$. Then $$\angle L_1PH = \angle W_1AB_1 - \angle C_1AH = \angle HAL_1,$$ so $PHL_1A$ is inscribed and hence $P = P'$. Analogously one can prove that $Q$ lies on $AW_2$. Note that $AW_1HW_2$ is a rectangle. It follows that $$\angle W_2QP = \angle L_1PH = \angle L_1AH.$$
Let $PQ$ intersect $BC$ at point $T$, $M$ be the midpoint of $BC$ and $K$ be the second point of intersection of $MH$ with the circle $AB_1HC_1$. It is well-known that $K$ lies on the circumcircle of triangle $ABC$ and on line $AT$. Then $TK \times TA = TB \times TC$. It is now sufficient to prove that $TP \times TQ = TB \times TC$. We will prove that $TK \times TA = TP \times TQ$, i.e. $PKAQ$ is inscribed. For this it is enough to prove that $P$,$K$ and $W_2$ are collinear. Indeed from this condition: $$\angle TKP = \angle W_2KA = \angle W_2HA = \angle HAL_1 = \angle AQP.$$
Note that $MB_1$ and $MC_1$ are the tangents to the circle $AB_1HC_1$. Let $P''$ be a point of intersection of $B_1C_1$ and $KW_2$. Since $KH$ and the tangents to the circle with diameter $AH$ are concurrent at the midpoint of $BC$, the quadruple of lines $W_2H, W_2K, W_2B_1, W_2C_1$ is harmonic. On the other hand, the quadruple of points $L_2, P, B_1, C_1$ is harmonic from the properties of internal and external bisectors of $\angle B_1HC_1$ in triangle $B_1HC_1$. Since the triple of lines $W_2H, W_2B_1,W_2C_1$ intersects line $B_1C_1$ at points $L_2, B_1, C_1$ respectively, the points $P$ and $P''$ coincide. 


\end{enumerate}

\vfill
% ASCII art
\centering
\tiny
\begin{BVerbatim}
___§§§§
__8_()__§
_88____ §
888___ §____ $$$$s
____§___§___80_)$$$
_____§__§__88$$$$$$
_____§__§_8888$$$$$
_____§__§_____$$$$$s
_____§__§______$$$$$
_____§__§_______$$$$
_____§__§_______$$$$
_____§__§_______$$$$
_____§__§_______$$$$
____§___§_______$$$$
____§___§_______$$$$
____§____§______$$$$
___§______§§§§__$$$$$
___§__________§§§§$$$$$
___§______________§$$$$$$$
__ §_ §_____________§$$$$$$$$$
__§__§______________§§$$$$$$$$$
__§__§______§_________§§§§$$§$$$
__§___§_____§__§__________§§_§$$$$
__§____§_____§__§____________§$$$$$
___§____§_____§__§§§____§____§$$$$$$$___$
___§____§§_____§§§§§§§§§____§$$$$$$$$$$$
____§____§§§_____§§§§______§$$$$$$$$$$$
_____§____§_§§§§__§§§§____§$$$$$$$$$$$
______§____§§_§§§§§______§$$$$$$$$$$$
_______§§__§___§§______§§$$$$$$$$$$
_________§__§§§____§§§_$$$$$$$$$$
__________§__§__§§______$$$$$&
___________§§&§§_______&_____&
_____________&________&______&
____________&&______&&_______&&
_________&&&&&__&&&&&&___&&&&&&
_______&&&&_&_____&&&______&&&
\end{BVerbatim}

\end{document}
